<body class="bg-gray-100 min-h-screen">
  <div class="flex overflow-hidden pt-16">
    <div id="main-content" class="h-full w-full relative overflow-y-auto lg:ml-64">
      
      <div class="flex">
        <app-table 
          class="w-full mx-auto p-4"
          [title]="'La Liste des utilisateurs'"
          [columns]="columns"
          [data]="rows"
          [actionButtonText1]="'Activate'"
          [actionButtonText2]="'Disactivate'"
          (tableAction)="acceptUser($event.id)">
        </app-table>
      </div> 

      <!-- Bouton pour ouvrir la modale -->
      <div class="flex ms-6">
          <button id="open-modal-btn" class="bg-[#205781] text-white px-4 py-2 rounded-lg hover:bg-[#799eba] focus:outline-none" (click)="openModal()">
            Add user
          </button>
      </div>

      <app-modal *ngIf="isModalOpen" (closeModalEvent)="closeModal()">
        <!-- Title of modal-->
        <div modal-title>
          Add user
        </div>
      
        <!-- Content of modal -->
        <div modal-body>
          <form [formGroup]="userForm" class="space-y-4">
            <!-- Champ Nom -->
            <div>
              <label class=" text-sm font-medium mb-2 text-gray-700 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                  <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z" />
                  <path d="M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z" />
                </svg>
                Name
              </label>
              <input type="text" formControlName="name" class="w-full p-3 border rounded-md focus:ring focus:ring-blue-300">
            </div>
      
           <!-- Champ Email -->
            <div>
              <label class=" text-sm font-medium mb-2 text-gray-700 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                  <path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z" />
                  <path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z" />
                </svg>
                Email
              </label>
              <input type="email" formControlName="email" class="w-full p-3 border rounded-md">
            </div>

            <!-- Role -->
            <div>
              <label class=" text-sm font-medium mb-2 text-gray-700 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                  <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z" clip-rule="evenodd" />
                </svg>
                Role
              </label>
              <select formControlName="role" class="w-full p-3 border rounded-md">
                <option value="" disabled selected>Select a role</option>
                <option value="DEVELOPER">Developper</option>
                <option value="TESTER">Tester</option>
                <option value="MANAGER">Manager</option>
              </select>
            </div>

            <!-- Champ Password -->
            <div>
              <label class=" text-sm font-medium mb-2 text-gray-700 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                  <path d="M12 3a3 3 0 0 0-3 3v1H6.75A2.25 2.25 0 0 0 4.5 9.25v10.5A2.25 2.25 0 0 0 6.75 22h10.5A2.25 2.25 0 0 0 19.5 19.75V9.25A2.25 2.25 0 0 0 17.25 7H15V6a3 3 0 0 0-3-3Zm-1.5 4V6a1.5 1.5 0 0 1 3 0v1h-3ZM12 12a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-3 0v-3A1.5 1.5 0 0 1 12 12Z"/>
                </svg>
                Password
              </label>
              <input type="password" formControlName="password" class="w-full p-3 border rounded-md">
            </div>
            <!-- Button add -->
            <button type="button" class="bg-[#205781] text-white px-4 py-2 rounded-lg hover:bg-[#799eba] focus:outline-none" (click)="submitUser()">
              Ajouter
            </button>
          </form>
        </div>
      </app-modal>
      
    </div>
  </div>
</body>
